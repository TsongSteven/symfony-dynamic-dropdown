{% extends 'base.html.twig' %}

{% block title %}Chart{% endblock %}

{% block body %}
<div class="container mt-3 p-5">
  {% for region in regions %}
      <ul>
        <li>
          <a class="nav-link">{{ region.name }}</a>
          <ul>
          {% for location in region.location %}
          {# {{ dump(location) }} #}
            <li><a href = "{{ path('location-based-data', {id :  location.id }) }}" class="nav-link">{{ location.name }}: <span class="badge bg-danger">Generate Chart</span></a></li>
          {% endfor %}
          </ul>
        </li>
      </ul>
  {% endfor %}
  <b>Total Consumer in each Location:</b>
    <table class="table table-dark">
    <thead>
      <tr>
        <th scope="col">Location</th>
        <th scope="col">Family</th>
        <th scope="col">Pg</th>
        <th scope="col">Hostel</th>
        <th scope="col">Hotel</th>
        <th scope="col">Restaurant</th>
      </tr>
    </thead>
    <tbody>

      {% for population in populations %}
        <tr>
          <th scope="row">{{ population.region.name }} : {{ population.location.name }}</th>
          <td>{{ population.familyCount }}</td>
          <td>{{ population.pgCount }}</td>
          <td>{{ population.hostelCount }}</td>
          <td>{{ population.hostelCount }}</td>
          <td>{{ population.restaurantCount }}</td>
        </tr>
      {% endfor %}
      </tbody>
  </table>
</div>
{% endblock %}
